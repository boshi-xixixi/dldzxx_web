# 企业网络监控数据大屏系统 (xm)

> 基于 Vue 3 + TypeScript + TDesign 的现代化企业网络监控数据可视化平台

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Vue](https://img.shields.io/badge/Vue-3.x-green.svg)
![TypeScript](https://img.shields.io/badge/TypeScript-5.x-blue.svg)
![TDesign](https://img.shields.io/badge/TDesign-Vue%20Next-orange.svg)

## 📖 项目简介

本系统是一个全栈式的网络安全监控与管理平台。通过实时采集网络流量、安全事件和员工上网行为数据，结合 AI 智能分析技术，为企业提供多维度的安全可视化方案。系统采用现代化 UI 设计，支持动态看板布局、AI 自动复盘、实时威胁地图等核心功能。

---

## 🚀 快速开始与启动教学

### 1. 环境准备
在开始之前，请确保您的开发环境满足以下要求：
- **Node.js**: >= 18.0.0 (推荐使用 LTS 版本)
- **包管理器**: **pnpm** >= 8.0.0 (推荐) 或 npm/yarn
- **操作系统**: Windows, macOS 或 Linux

### 2. 快速启动 (Windows 用户)
如果您是在 Windows 环境下开发，可以直接使用项目根目录下的自动化脚本：
- **`start.bat`**: 一键启动。该脚本会自动设置 UTF-8 编码，安装依赖（如果缺失），并同时启动前端 Vite 开发服务器和后端 Express 服务器。

### 3. 手动启动步骤
如果您希望手动控制启动流程，请执行以下命令：

```bash
# 1. 安装项目依赖
pnpm install

# 2. 启动开发服务器 (前后端并发运行)
pnpm run dev
```

### 4. 关键环境变量说明
项目支持通过环境变量灵活切换数据模式。在 `xm/` 目录下创建或修改 `.env` 文件：
- **`VITE_USE_MOCK`**: 
  - `true` (默认): 使用前端 Mock 数据，适合无后端环境下的 UI 开发。
  - `false`: 连接真实后端 API 接口。

---

## ✨ 核心功能全览

### 🛡️ 攻击监控与安全运营 (Security Ops)
- **实时威胁地图**: 集成 **Cesium** 与 **OpenLayers**，可视化展示全球范围内的攻击源分布。
- **攻击趋势分析**: 实时监控攻击频率、类型分布及高危攻击目标。
- **事件闭环管理**:
  - **实时告警弹窗**: 发现高危威胁时自动弹出提醒。
  - **AI 自动复盘**: 调用大模型自动分析攻击路径并生成处置报告。
  - **状态追踪**: 标记事件为“待处理”、“处理中”或“已关闭”。

### 🤖 AI 智能大脑
- **AI 助手对话**: 基于 LLM 的交互式对话框，支持安全知识查询、日志解读。
- **行为风险分析**: 深度分析员工上网记录，自动识别异常流量与潜在泄密风险。
- **报表自动生成**: 自动归纳每日安全态势，生成可读性极强的文字总结。

### 📊 数据可视化看板 (Dashboard)
- **动态组件布局**: 支持看板组件的拖拽、缩放及自定义排序。
- **多维数据展示**: 在线人数、实时流量、部门安全评分、风险排名等。
- **流量趋势图**: 使用 ECharts 渲染的高性能实时动态折线图。

### 📄 报表管理系统
- **安全日报/周报**: 自动汇总企业整体安全状况。
- **员工行为报告**: 详细记录特定员工的流量消耗、访问偏好及违规记录。
- **导出功能**: 支持将生成的报告一键导出为 **PDF** 格式。

---

## 🏗️ 技术栈说明

| 领域 | 技术方案 | 优势 |
| --- | --- | --- |
| **前端框架** | Vue 3 (Composition API) | 响应式性能优异，代码组织清晰 |
| **UI 组件库** | TDesign Vue Next | 腾讯出品，专业且美观的企业级组件 |
| **地图引擎** | Cesium + OpenLayers | 兼顾 3D 渲染与 2D 地图灵活性 |
| **可视化** | ECharts 5 | 丰富的图表类型与极致的交互性能 |
| **后端** | Node.js + Express + tsx | 开发效率高，前后端同构 JavaScript |
| **样式方案** | Tailwind CSS | 快速构建响应式与自定义 UI |

---

## 📁 目录结构

```text
xm/
├── api/                # 后端 Express 服务
│   ├── routes/        # API 路由 (Security, AI, Reports, Geo 等)
│   ├── services/      # 核心业务逻辑 (AI 模型对接、安全运行时)
│   └── data/          # 静态/Mock 数据定义
├── src/                # 前端 Vue 源码
│   ├── components/    # 公共组件 (地图、实时告警弹窗、图表)
│   ├── pages/         # 页面组件 (攻击监控、AI 助手、报表详情)
│   ├── composables/   # 组合式逻辑 (看板布局、主题切换、报告状态)
│   └── lib/           # 核心库 (Mock 切换、HTTP 请求封装)
├── docs/               # 详细技术文档与 API 规格
└── scripts/            # 跨平台部署与开发脚本
```

---

## 🛠️ 常见问题 (FAQ)

**Q: 启动后前端页面空白或报错？**
A: 请确认是否执行了 `pnpm install`。如果是 Windows 用户，建议检查 Node.js 版本是否为 18+。

**Q: 如何切换地图模式？**
A: 在看板或安全页面中，可以通过组件配置项切换 Cesium (3D) 或 OpenLayers (2D) 渲染模式。

**Q: AI 功能无法正常使用？**
A: 请检查 `api/` 目录下的环境变量配置，确保已配置正确的 LLM API Key，或确认 `VITE_USE_MOCK` 是否已开启以使用模拟回复。

---
© 2026 电力电子学校项目团队.
